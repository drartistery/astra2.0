!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},r=Error().stack;r&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[r]="a14cc69e-3a2d-415b-8522-9c9c6c45b3c9",e._sentryDebugIdIdentifier="sentry-dbid-a14cc69e-3a2d-415b-8522-9c9c6c45b3c9")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"d5236f02"};"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7656],{19737:(e,r,t)=>{t.d(r,{k:()=>v});var n=t(29935),i=t(12694),o=t(82643),a=t(21462),s=t(90629),c=t(17844),l=t(12584),u=t(41114),d=t(50175);function p(){var e=(0,l._)(["\n  mutation SaveUserAuth($input: SaveUserAuthInput!) {\n    saveUserAuth(input: $input) {\n      ... on CurrentUser {\n        id\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on UserError {\n        message\n      }\n      ... on TooManyRequestsError {\n        message\n      }\n      ... on ServiceUnavailable {\n        message\n      }\n    }\n  }\n"]);return p=function(){return e},e}var h={},m=(0,u.J1)(p()),f=t(19158),g={type:"error",message:"Something unexpected happened, please try again."};function v(){var e,r,t=(0,i._)((e=(0,c._)({},h,void 0),d.n(m,e)),1)[0];return(0,a.useCallback)((r=(0,n._)(function(e){var r,n,i,a,c;return(0,o.YH)(this,function(o){switch(o.label){case 0:if(r=e.userCredential,n=e.oauthProviderId,i=e.scopes,!(a=(0,f.d5)(n,r))||!a.accessToken)return s.Cp(Error("Failed to extract token from ".concat(n," credential"))),[2,g];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,t({variables:{input:{provider:n,token:a.accessToken,scopes:i}}})];case 2:return c=o.sent(),[3,4];case 3:return o.sent(),s.Cp(Error("Failed to save ".concat(n," Auth state"))),[2,g];case 4:if(!c.data)return s.Cp(Error("Unexpected error trying to save ".concat(n," Auth state"))),[2,g];if("CurrentUser"!==c.data.saveUserAuth.__typename)return[2,{type:"error",message:c.data.saveUserAuth.message}];return[2,{type:"success"}]}})}),function(e){return r.apply(this,arguments)}),[t])}},20326:(e,r,t)=>{t.d(r,{b:()=>f});var n,i=t(29935),o=t(82643),a=t(34626),s=t(90629),c=t(2272),l=function(e){return e[e.Loaded=0]="Loaded",e[e.Skipped=1]="Skipped",e[e.Failed=2]="Failed",e}({}),u="https://elements.stytch.com/telemetry.js";function d(){return"true"===c.env.IS_CYPRESS_AUTOMATED_TEST}var p=window.location.pathname;function h(){return(h=(0,i._)(function(){var e,r,t;return(0,o.YH)(this,function(i){return e=performance.now(),(r=document.createElement("script")).src=u,r.async=!0,t=new Promise(function(e){setTimeout(function(){a.vF.error("Timeout while loading Stytch script"),e()},4e3)}),n=Promise.race([new Promise(function(t){r.onload=function(){var r=performance.now();a.vF.time("time to load Stytch script",r-e),t()},r.onerror=function(){a.vF.error("Error loading Stytch script at ".concat(u)),t()},document.head.appendChild(r)}),t]),[2]})})).apply(this,arguments)}function m(){return(m=(0,i._)(function(){return(0,o.YH)(this,function(e){switch(e.label){case 0:if(d())return[2,1];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,n];case 2:return e.sent(),[2,0];case 3:return e.sent(),[2,2];case 4:return[2]}})})).apply(this,arguments)}function f(e){return g.apply(this,arguments)}function g(){return(g=(0,i._)(function(e){var r;return(0,o.YH)(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,Promise.race([function(e){return v.apply(this,arguments)}(e),new Promise(function(e,r){return setTimeout(function(){return r(Error("Could not process device fingerprint in 4s"))},4e3)})])];case 1:return t.sent(),[3,3];case 2:return r=t.sent(),a.vF.error("Error fetching device fingerprint data ".concat(r.message)),[2,"N/A"];case 3:return[2]}})})).apply(this,arguments)}function v(){return(v=(0,i._)(function(e){var r,t;return(0,o.YH)(this,function(n){switch(n.label){case 0:return[4,function(){return m.apply(this,arguments)}()];case 1:if(n.sent()!==l.Loaded)return[2];return r=window.location.host.startsWith("staging")?"public-token-test-f16841f0-b961-4442-93b3-751c8cfe0d8b":"public-token-live-88edc789-05cb-440a-a321-dab99f475524",[4,window.GetTelemetryID(r,"https://telemetry.replit.com/submit")];case 2:if(!(t=n.sent())||""===t.trim())return a.vF.error("Client received an empty telemetryId",{userId:e}),[2];return a.vF.info("Successfully received the telemetryId from Stytch ".concat(t),{telemetryId:t,userId:e}),[4,fetch("/telemetry",{method:"GET",headers:{"Content-Type":"application/json","telemetry-id":t,"user-id":e}})];case 3:return n.sent(),[2]}})})).apply(this,arguments)}!d()&&["/signup"].some(function(e){return p.startsWith(e)})&&(function(){return h.apply(this,arguments)})().catch(function(e){return s.Cp(e)})},22243:(e,r,t)=>{t.d(r,{A:()=>P});var n=t(29935),i=t(12694),o=t(82643),a=t(88263),s=t(71115),c=t(21462),l=t(90629),u=(t(2272),t(17844)),d=t(93629),p=t(94176),h=t(30206),m=t(53231),f=function(e){if(e.isLoggedIn){var r;(0,m.ls)((0,d._)((0,u._)({id:e.id.toString(),email:e.email,roles:e.roles,verified:e.isVerified,emailPreference:e.emailNotifications,createdAt:e.timeCreated},!!e.loginMethod&&{loginMethod:e.loginMethod}),{signupMethod:null!=(r=e.signupMethod)?r:p.QL}))}};function g(){return(g=(0,n._)(function(e){var r,t,n,i,a,s,c,l,p,m;return(0,o.YH)(this,function(o){switch(o.label){case 0:r=e.username,t=e.password,n=e.teacher,i=e.hCaptchaResponse,a=e.hCaptchaSiteKey,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,(0,h.B2)("/login",(0,d._)((0,u._)({username:r,password:t},n?{teacher:n}:{}),{hCaptchaResponse:i,hCaptchaSiteKey:a}))];case 2:return s=o.sent(),[3,4];case 3:return(null==(p=(m=c=o.sent()).extras)||null==(l=p.responseData)?void 0:l.status)===401&&(c.status=m.extras.responseData.status),[2,{isLoggedIn:!1,error:c}];case 4:return f(s),[2,s]}})})).apply(this,arguments)}var v=t(92830),w=t(84920),y=t(63634),b=t(19158),C=t(40052),Y=t(95139),S=t(45263),_=t(64583),A=t(48521),E=t(1714),k=t(25762),I=t(11337),T=t(10429),x=t(18870),D=t(80762),F=(0,_.x)({form:[A.wp.colWithGap(8),A.wp.width("100%")],secondaryAction:[A.wp.width("100%"),A.wp.textAlign.center,A.aK.typography.caption.medium,A.wp.color.brandAccentStrongest,{":hover":{color:S.LU.brandAccentStronger,backgroundColor:"transparent"}}]});function P(e){var r,t,u,d=e.onSubmit,p=e.trackSource,h=e.footer,f=(0,i._)((0,c.useState)(!1),2),S=f[0],_=f[1],A=(0,i._)((0,c.useState)(!1),2),P=A[0],L=A[1],R=(0,i._)((0,c.useState)(""),2),U=R[0],M=R[1],H=(0,i._)((0,c.useState)(""),2),O=H[0],W=H[1],z=(0,s.useRouter)(),G=(r=(0,n._)(function(e){return(0,o.YH)(this,function(r){switch(r.label){case 0:if(e.preventDefault(),S)return[2];return _(!0),[4,N({emailOrUsername:U,password:O})];case 1:if(!r.sent().fallthrough)return[3,3];return[4,K()];case 2:r.sent(),r.label=3;case 3:return[2]}})}),function(e){return r.apply(this,arguments)}),N=(t=(0,n._)(function(e){var r,t,n,i,a,s,c;return(0,o.YH)(this,function(o){switch(o.label){case 0:r=e.emailOrUsername,t=e.password,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,(0,b.hw)({action:"signInWithPassword"})];case 2:return n=o.sent(),[3,4];case 3:return o.sent(),[2,{fallthrough:!0}];case 4:return[4,(0,v.M)({emailOrUsername:r,rawPassword:t,clientType:"CLIENT_TYPE_WEB",recaptchaToken:n})];case 5:if("error"===(i=o.sent()).type)return L(!1),_(!1),d({error:i.message}),[2,{fallthrough:!1}];return[4,(0,b.vm)({response:i.session})];case 6:if("error"===(a=o.sent()).type)return L(!1),_(!1),d({error:a.message}),[2,{fallthrough:!1}];return[4,(0,v.TV)(a.user,{source:p})];case 7:return"success"===(s=o.sent()).type?(_(!1),L(!0),c=s.redirectUrl?(0,y.A)({redirectUrl:s.redirectUrl}):void 0,d({user:{id:s.userId,postLoginRedirectUrl:c},isLogin:!0})):(L(!1),_(!1),d({error:s.message,reauth:s.reauth})),[2,{fallthrough:!1}]}})}),function(e){return t.apply(this,arguments)}),K=(u=(0,n._)(function(){var e,r,t,n,i;return(0,o.YH)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,(0,C.Ay)(void 0,function(){(0,m.u4)(m.AZ.AUTH_FORM_CAPTCHA_TRIGGERED,{authenticationType:"login"})})];case 1:return e=o.sent(),[3,3];case 2:return r=o.sent(),l.Cp(r,function(e){return e.setTag("bonsai",(0,Y.lE)(z))}),d({error:"Something went wrong trying to submit. Please try again."}),_(!1),[2];case 3:return[4,function(e){return g.apply(this,arguments)}({username:U,password:O,hCaptchaResponse:e,hCaptchaSiteKey:C.lh})];case 4:if("error"in(t=o.sent())){if(n=t.error,_(!1),d({error:n.message||"Something went wrong"}),n.status&&n.status>=500)throw n;return[2]}return i=t.postLoginRedirectUrl?(0,y.A)({redirectUrl:t.postLoginRedirectUrl}):void 0,d({user:{id:t.id,postLoginRedirectUrl:i},isLogin:!0}),[2]}})}),function(){return u.apply(this,arguments)});return(0,a.FD)(I.lV,{onSubmit:G,css:F.form,children:[(0,a.Y)(w.A,{type:"text",label:"Email or username",name:"username",value:U,onChange:M,autoComplete:"email"}),(0,a.Y)(w.A,{type:"password",label:"Password",name:"password",value:O,onChange:W}),(0,a.FD)(T.S,{gap:h?8:24,children:[(0,a.Y)(E.Ay,{type:"submit",variant:"primary",stretch:!0,loading:S,disabled:!O||!U||P,iconRight:S?(0,a.Y)(D.A,{}):P?(0,a.Y)(x.A,{}):void 0,dataCy:"log-in-btn",text:"Log In"}),h||(0,a.Y)(k.Y,{variant:"clean",css:F.secondaryAction,href:"/forgot",text:"Forgot password?"}),!1]})]})}},25762:(e,r,t)=>{t.d(r,{Y:()=>h,r:()=>p});var n=t(17844),i=t(93629),o=t(17459),a=t(88263),s=t(29542),c=t.n(s),l=t(21462),u=t(1714),d=t(10429).D.a,p=(0,l.forwardRef)(function(e,r){var t=e.href,s=(0,o._)(e,["href"]),c=(0,u.Rw)(s),l=(0,a.Y)(u.zI,(0,n._)({},s));return s.disabled?(0,a.Y)(d,(0,i._)((0,n._)({ref:r,href:t,"aria-disabled":s.disabled,css:c,role:"link"},s),{children:l})):(0,a.Y)(d,(0,i._)((0,n._)({ref:r,css:c,role:"link",href:t},s),{children:l}))}),h=(0,l.forwardRef)(function(e,r){var t=e.href,s=(0,o._)(e,["href"]),l=(0,u.Rw)(s),p=(0,a.Y)(u.zI,(0,n._)({},s));return s.disabled?(0,a.Y)(d,(0,i._)((0,n._)({ref:r,"aria-disabled":s.disabled,css:l,role:"link"},s),{children:p})):(0,a.Y)(c(),(0,i._)((0,n._)({legacyBehavior:!0,passHref:!0,href:t},s),{children:(0,a.Y)(d,(0,i._)((0,n._)({ref:r,css:l,role:"link"},s),{children:p}))}))})},26117:(e,r,t)=>{t.d(r,{I:()=>p,X:()=>d});var n=t(17844),i=t(17459),o=t(88263),a=t(64583),s=t(48521),c=t(1714),l=t(10429),u=(0,a.x)({ssoButton:[s.wp.backgroundColor.brandBackgroundDarker,s.wp.minHeight(40)],ssoIconWrapper:[s.wp.borderRadius(4)],ssoIcon:[s.wp.width(20),s.wp.height(20),{backgroundSize:"contain"}]}),d=function(e){var r=e.id;return(0,o.Y)(l.S,{css:u.ssoIconWrapper,p:2,children:(0,o.Y)("div",{style:{backgroundImage:"url(/public/images/".concat(r.replace(".com",""),".png)")},css:u.ssoIcon})})},p=function(e){var r=e.onClick,t=e.iconLeft,a=e.text,s=(0,i._)(e,["onClick","iconLeft","text"]);return(0,o.Y)(c.Ay,(0,n._)({css:u.ssoButton,variant:"secondary",onClick:r,stretch:!0,iconLeft:t,text:a},s))}},26976:(e,r,t)=>{t.d(r,{A:()=>s});var n=t(17844),i=t(93629),o=t(88263),a=t(71117);function s(e){return(0,o.Y)(a.Ay,(0,i._)((0,n._)({},e),{children:(0,o.Y)("path",{fillRule:"evenodd",d:"M23.31 11.753a.75.75 0 0 1-.75.75h-1.523v2.698a.75.75 0 0 1-1.5 0v-2.698h-2.476v3.698a.75.75 0 0 1-1.5 0v-3.698h-3.219a5.168 5.168 0 0 1-10.285-.755v-.008a5.168 5.168 0 0 1 10.268-.737H22.56a.75.75 0 0 1 .75.75Zm-12.417.043-.002-.03a3.668 3.668 0 0 0-7.334-.004 3.668 3.668 0 1 0 7.336.034Z",clipRule:"evenodd"})}))}},32852:(e,r,t)=>{t.d(r,{A:()=>s});var n=t(17844),i=t(93629),o=t(88263),a=t(71117);function s(e){return(0,o.Y)(a.Ay,(0,i._)((0,n._)({},e),{children:(0,o.Y)("path",{fillRule:"evenodd",d:"M10.64 2.354A9.75 9.75 0 1 1 2.803 15.25a.75.75 0 0 1 1.414-.498 8.25 8.25 0 1 0 1.937-8.564L2.894 9.25H7a.75.75 0 0 1 0 1.5H1A.75.75 0 0 1 .25 10V4a.75.75 0 0 1 1.5 0v4.266l3.368-3.165a9.75 9.75 0 0 1 5.522-2.747Z",clipRule:"evenodd"})}))}},35203:(e,r,t)=>{t.d(r,{n:()=>v,A:()=>y});var n=t(86105),i=t(88263),o=t(64513),a=t(64583),s=t(48521),c=t(76126),l=t(10429),u=(0,a.x)({signupFormEmailDisclaimerContainer:[s.wp.width("100%")],signupFormEmailDisclaimer:[s.wp.color.brandText,s.wp.font.brandVariable,s.aK.typography.caption.small,s.wp.textAlign.center,s.wp.width("100%")],link:[s.wp.color.foregroundDefault,{fontWeight:700,textDecoration:"none"}]});let d=function(){return(0,i.Y)(l.S,{css:u.signupFormEmailDisclaimerContainer,children:(0,i.FD)(c.EY,{css:u.signupFormEmailDisclaimer,children:["By continuing, you agree to Replit's",(0,i.Y)("br",{}),(0,i.Y)("a",{css:u.link,href:o.aC.TERMS_OF_SERVICE,target:"_blank",children:"Terms of Service"})," ","and"," ",(0,i.Y)("a",{css:u.link,href:o.aC.PRIVACY_POLICY,target:"_blank",children:"Privacy Policy"})]})})};var p=t(68956),h=t(45263),m=t(69938),f=[s.wp.align.center,s.wp.colWithGap(16)],g=(0,a.x)({footerLinkWrapper:[s.aK.typography.caption.small,s.wp.textAlign.center],footerLink:[s.aK.typography.caption.small,s.wp.color.brandAccentStrongest,{":hover":{color:h.LU.brandAccentStronger,backgroundColor:"transparent"}}],footerContainerNotModal:(0,n._)(f).concat([s.wp.bottom(24)]),footerContainerModal:(0,n._)(f).concat([s.wp.pt(24)]),heightWrapper:[s.wp.height(132)],recaptchaDisclaimer:[s.wp.textAlign.center,s.aK.typography.caption.small,s.wp.color.foregroundDimmest,{"& > a":{color:"inherit",textDecoration:"underline"},"& > a:hover":{textDecoration:"none"}}]}),v=function(e){var r=e.mode,t=e.isModal,n=e.onModeChange,o=e.className,a=function(e){e.preventDefault(),(0,p.cq)({isLogin:"login"===r,authFormPlacement:t?"modal":"auth-page"}),n("login"===r?"signup":"login")};return(0,i.FD)(c.EY,{css:g.footerLinkWrapper,className:o,variant:"small",multiline:!1,children:["login"===r?"New to Replit? ":"Already have an account? ",(0,i.Y)("a",{role:"button",tabIndex:0,onKeyDown:function(e){"Enter"===e.key&&a(e)},onClick:function(e){return a(e)},css:g.footerLink,children:"login"===r?"Sign up":"Log in"})]})},w=function(){return(0,i.FD)(c.EY,{variant:"small",color:"dimmest",css:g.recaptchaDisclaimer,children:["This site is protected by reCAPTCHA Enterprise and the Google"," ",(0,i.Y)("a",{href:"https://policies.google.com/privacy",children:"Privacy Policy"})," and"," ",(0,i.Y)("a",{href:"https://policies.google.com/terms",children:"Terms of Service"})," apply."]})};let y=function(e){var r=e.isModal,t=e.mode,n=e.onModeChange,o=r?void 0:g.heightWrapper;return(0,i.Y)(l.S,{css:o,children:(0,i.FD)(l.S,{css:r?g.footerContainerModal:g.footerContainerNotModal,children:[(0,i.Y)(m.a,{}),"signup"===t?(0,i.Y)(l.S,{pb:24,children:(0,i.Y)(d,{})}):null,(0,i.Y)(v,{mode:t,isModal:r,onModeChange:n}),(0,i.Y)(l.S,{row:!0,gap:16,align:"center",children:(0,i.Y)(c.EY,{css:g.footerLinkWrapper,variant:"small",multiline:!1,children:(0,i.Y)("a",{href:"https://replit.com/help",target:"_blank",rel:"noopener noreferrer",css:g.footerLink,children:"Get help"})})}),(0,i.Y)(w,{})]})})}},40052:(e,r,t)=>{t.d(r,{Ay:()=>d,lh:()=>a});var n=t(29935),i=t(82643),o=t(2272),a="473079ba-e99f-4e25-a635-e9b661c7dd3e",s=0,c=null;function l(){return u.apply(this,arguments)}function u(){return(u=(0,n._)(function(){var e;return(0,i.YH)(this,function(r){return(e=document.createElement("script")).src="https://js.hcaptcha.com/1/api.js?render=explicit&host=repl.it",[2,new Promise(function(r,t){e.onload=function e(r){return function(){void 0===window.hcaptcha?setTimeout(function(){e(r)},100):r()}}(function(){c=null,r()}),e.onerror=function(){s++,c=new Promise(function(e,r){setTimeout(function(){l().then(e,r)},1e3*Math.pow(1.7,s)+Math.floor(500*Math.random()))}),5===s&&t(Error("Failed to load captcha script after ".concat(5," times")))},window.document.head.appendChild(e)})]})})).apply(this,arguments)}function d(e,r){return p.apply(this,arguments)}function p(){return(p=(0,n._)(function(e,r){var t;return(0,i.YH)(this,function(n){switch(n.label){case 0:if("true"===o.env.IS_CYPRESS_AUTOMATED_TEST||"true"===o.env.SKIP_HCAPTCHA)return[2,"bypassed"];if(!c)return[3,2];return[4,c];case 1:n.sent(),n.label=2;case 2:return t=window.hcaptcha,[2,new Promise(function(n,i){var o=document.createElement("div"),s=t.render(o,{sitekey:e||a,size:"invisible",callback:function(e){t.reset(s),window.document.body.contains(o)&&window.document.body.removeChild(o),n(e)},"open-callback":function(){r&&r()},"close-callback":function(){t.reset(s),window.document.body.contains(o)&&window.document.body.removeChild(o),i(Error("HCaptcha closed"))},"chalexpired-callback":function(){t.reset(s),window.document.body.contains(o)&&window.document.body.removeChild(o),i(Error("HCaptcha challenge expired"))},"error-callback":function(){t.reset(s),window.document.body.contains(o)&&window.document.body.removeChild(o),i(Error("HCaptcha render error"))},"expired-callback":function(){t.reset(s),window.document.body.contains(o)&&window.document.body.removeChild(o),i(Error("HCaptcha render expired"))}});window.document.body.appendChild(o),t.execute(s)})]}})})).apply(this,arguments)}c=l()},63634:(e,r,t)=>{t.d(r,{A:()=>o});var n=t(68794),i=t.n(n);function o(e){var r=e.redirectUrl,t=i().get("shouldUseMobileAppAuthComplete");return"string"!=typeof t||t.length<1?r:"/authComplete?redirectUrl=".concat(encodeURI(r))}},68956:(e,r,t)=>{t.d(r,{E0:()=>a,b$:()=>l,cJ:()=>c,cq:()=>s});var n=t(17844),i=t(20520),o=t(53231),a=function(e){var r=i.A.get("gfa_ref")||void 0,t=i.A.get("gfa_campaign")||void 0,n=i.A.get("gfa_landed_on")||void 0;(0,o.ls)({id:e,firstAcquisitionSource:r,firstAcquisitionCampaign:t,firstAcquisitionLandedOn:n})},s=function(e){var r=e.isLogin,t=e.authFormPlacement;(0,o.u4)(o.AZ.AUTH_FORM_MODE_TOGGLED,r?{from:"login",to:"signup",authFormPlacement:t}:{from:"signup",to:"login",authFormPlacement:t})},c=function(e){var r=e.from,t=e.location,i=e.authFormPlacement,a=e.extras;(0,o.u4)(o.AZ.LOGIN_REQUESTED,(0,n._)({from:r,location:t,authFormPlacement:i},void 0===a?{}:a))},l=function(e){var r=e.from,t=e.location,i=e.authFormPlacement,a=e.extras;(0,o.u4)(o.AZ.SIGNUP_REQUESTED,(0,n._)({from:r,location:t,authFormPlacement:i},void 0===a?{}:a))}},77064:(e,r,t)=>{t.d(r,{Q:()=>C});var n=t(29935),i=t(12694),o=t(86105),a=t(82643),s=t(88263),c=t(21462),l=t(32803),u=t(19158),d=t(26117),p=t(53231),h=t(64583),m=t(48521),f=t(46603),g=t(10429),v=t(37037),w=(0,h.x)({minimizedSection:[m.wp.gap(8)],showMoreButton:[m.wp.py(6)]}),y=[l.ME,l.Gb,l.nE],b=(0,o._)(y).concat([l.P5,l.t5]);function C(e){var r,t=e.mode,h=e.onRedirectingChange,m=e.onSubmit,C=e.onEmailClick,Y=e.replitAuthProps,S=(0,i._)((0,c.useState)(!1),2),_=S[0],A=S[1],E=(0,c.useMemo)(function(){var e;return null!=(e=null==Y?void 0:Y.minimizedProviders)?e:[]},[Y]),k=E.includes("email")&&C&&_,I=E.includes("email"),T=(r=(0,n._)(function(e){var r;return(0,a.YH)(this,function(n){switch(n.label){case 0:return r=e.replace(".com",""),(0,p.u4)(p.AZ.AUTH_FORM_SSO_REQUESTED,{provider:r,authenticationType:t,isTeacher:"false"}),[4,h(!0)];case 1:return n.sent(),[4,(0,u.OD)({tenantId:void 0,provider:{type:"oauth",providerId:e}})];case 2:return"error"===n.sent().type&&m({error:u.xd}),[2]}})}),function(e){return r.apply(this,arguments)}),x="login"===t?b:y,D=(0,c.useMemo)(function(){var e=function(e){return!!Y&&"facebook.com"===e},r=x.filter(function(r){return E.includes(r.replace(".com",""))&&!e(r)});return{primaryProviders:x.filter(function(t){return!r.includes(t)&&!e(t)}),minimizedProvidersList:r}},[x,E,Y]),F=D.primaryProviders,P=D.minimizedProvidersList;return(0,s.FD)(s.FK,{children:[(0,o._)(F).concat((0,o._)(_?P:[])).map(function(e){return(0,s.Y)(d.I,{text:"Continue with ".concat((0,l.a8)(e)),iconLeft:(0,s.Y)(d.X,{id:e}),onClick:function(){if("facebook.com"===e){window.confirm('Facebook login is no longer supported. Click "Ok" to continue to password reset using the connected email address.')&&(window.location.href="/forgot");return}T(e)}},e)}),(P.length>0||I)&&!_&&(0,s.Y)(g.S,{css:w.minimizedSection,children:(0,s.Y)(f.$n,{onClick:function(){return A(!0)},css:w.showMoreButton,variant:"underlined",colorway:"grey",stretch:!0,text:"Other log in methods"})}),k&&(0,s.Y)(f.$n,{onClick:C,variant:"nofill",iconRight:(0,s.Y)(v.A,{}),text:"Continue with email"})]})}},86711:(e,r,t)=>{t.d(r,{A:()=>_});var n=t(29935),i=t(12694),o=t(82643),a=t(88263),s=t(21462),c=t(92830),l=t(84920),u=t(63634),d=t(19158),p=t(54668),h=t(47651),m=t(20326),f=t(97973),g=t(64583),v=t(48521),w=t(1714);t(46603);var y=t(10429),b=t(18870),C=t(80762);function Y(e){return e.error?[{message:e.error.message,state:"error"}]:e.warning?[{message:e.warning.message,state:"warning"}]:e.value?e.isValid?[{message:"",state:"success"}]:e.touched?[{message:"",state:"loading"}]:void 0:void 0}var S=(0,g.x)({form:[v.wp.width("100%")]});function _(e){var r,t=e.onSubmit,g=e.seededEmail,v=e.trackSource,_=void 0===v?"explicit":v,A=(0,i._)((0,s.useState)(!1),2),E=A[0],k=A[1],I=(0,i._)((0,s.useState)(!1),2),T=I[0],x=I[1],D=(0,p.W)(g||"",f.A.email),F=(0,p.W)("",f.A.password),P=(0,h.N)().directQueryPrompt,L=(r=(0,n._)(function(e){var r,n,i,a,s;return(0,o.YH)(this,function(o){switch(o.label){case 0:if(e.preventDefault(),k(!0),D.isValid)return[3,2];return[4,D.validate()];case 1:if(o.sent())return k(!1),[2];o.label=2;case 2:if(!F.isValid&&F.validate())return k(!1),[2];o.label=3;case 3:return o.trys.push([3,5,,6]),[4,(0,d.hw)({action:"signUpPassword"})];case 4:return r=o.sent(),[3,6];case 5:return o.sent(),t({error:"We failed to evaluate your browser integrity. Please refresh the page and try again. If the problem persists, check your browser and network configuration."}),[2];case 6:return[4,(0,c.ai)({email:D.value,rawPassword:F.value,clientType:"CLIENT_TYPE_WEB",recaptchaToken:r,source:_,aiPrompt:P||void 0})];case 7:if("error"===(n=o.sent()).type)return x(!1),k(!1),t({error:n.message}),[2];return[4,(0,d.vm)({response:n.session})];case 8:if("error"===(i=o.sent()).type)return x(!1),k(!1),t({error:i.message}),[2];return[4,(0,c.TV)(i.user,{source:_})];case 9:if("success"===(a=o.sent()).type)return[3,10];return[3,12];case 10:return k(!1),x(!0),[4,(0,m.b)(a.userId.toString())];case 11:return o.sent(),s=a.redirectUrl?(0,u.A)({redirectUrl:a.redirectUrl}):void 0,t({user:{id:a.userId,postLoginRedirectUrl:s},isLogin:!1}),[3,13];case 12:return x(!1),k(!1),t({error:a.message,reauth:a.reauth}),[3,13];case 13:return[2]}})}),function(e){return r.apply(this,arguments)}),R=!D.value;return(0,a.Y)("form",{onSubmit:L,css:S.form,children:(0,a.FD)(y.S,{css:S.form,gap:8,children:[(0,a.Y)(l.A,{type:"text",name:"email",label:"Email",onBlur:D.handleBlur,validationResults:Y(D),onChange:D.setValue,value:D.value,autoComplete:"email"}),(0,a.Y)(l.A,{type:"password",label:"Password",name:"password",showToggle:!1,onBlur:F.handleBlur,validationResults:Y(F),onChange:F.setValue,value:F.value}),(0,a.Y)(y.S,{gap:4,children:(0,a.Y)(w.Ay,{type:"submit",variant:"primary",stretch:!0,loading:E,disabled:!F.value||R||T,iconLeft:E?(0,a.Y)(C.A,{}):T?(0,a.Y)(b.A,{}):void 0,dataCy:"signup-create-account",text:"Create Account"})}),null]})})}},87656:(e,r,t)=>{t.d(r,{A:()=>er,C:()=>ee});var n=t(29935),i=t(12694),o=t(86105),a=t(82643),s=t(88263),c=t(71115),l=t(21462),u=t(90629),d=t(71672),p=t(16564),h=t(32803),m=t(92830),f=t(17844),g=t(35203),v=t(64583),w=t(48521),y=t(76126),b=(0,v.x)({self:[w.wp.font.brandDefault,{fontWeight:512,fontSize:24,lineHeight:32/24}]});let C=function(e){var r=e.mode,t=e.privateDeployment,n="Create a Replit account";return"login"===r&&(n="Log in to your account"),t&&(n="Log in to access a private website"),(0,s.Y)(y.Y9,{variant:"headerDefault",level:1,css:b.self,children:n})};var Y=t(22243),S=t(46627),_=t(19158),A=t(86711),E=t(26117),k=t(77064),I=t(68956),T=t(45263),x=t(1714),D=t(69938),F=t(10429),P=t(26976),L=t(5499),R=t(32852),U=(0,v.x)({mainControls:[w.wp.width("100%"),w.wp.px(12)],ssoContainer:[w.wp.width("100%"),w.wp.colWithGap(8)],samlLoginForm:[w.wp.width("100%"),w.wp.pb(32)],orText:[w.wp.fontSize(T.LU.fontSizeSmall)]});function M(e){var r=e.mode,t=e.onRedirectingChange,n=e.onModeChange,i=e.onSubmit,o=e.tracking,a=e.seededEmail,c=e.isModal;return(0,s.FD)(s.FK,{children:["login"===r?(0,s.Y)(H,{onRedirectingChange:t,onSubmit:i,tracking:o}):(0,s.Y)(O,{onRedirectingChange:t,onSubmit:i,seededEmail:a,tracking:o}),(0,s.Y)(g.A,{mode:r,isModal:c,onModeChange:n})]})}var H=function(e){var r=e.onRedirectingChange,t=e.onSubmit,n=e.tracking,o=e.replitAuthProps,a=(0,i._)((0,l.useState)("password"),2),c=a[0],u=a[1];return(0,s.FD)(s.FK,{children:["password"===c?(0,s.Y)(Y.A,{onSubmit:t,trackSource:n.from}):null,"saml"===c?(0,s.Y)(F.S,{css:U.samlLoginForm,children:(0,s.Y)(S.A,{onSubmit:t,mode:"login",onRedirectingChange:r})}):null,(0,s.FD)(F.S,{css:U.ssoContainer,children:[(0,s.Y)(W,{emailLoginType:c,setEmailLoginType:u}),(0,s.Y)(k.Q,{mode:"login",onRedirectingChange:r,onSubmit:t,replitAuthProps:o})]})]})},O=function(e){var r=e.onRedirectingChange,t=e.onSubmit,n=e.seededEmail,o=e.tracking,a=(0,i._)((0,l.useState)("initial"),2),c=a[0],u=a[1];return(0,s.FD)(s.FK,{children:[(0,s.FD)(F.S,{css:U.ssoContainer,align:"center",children:[(0,s.Y)(k.Q,{mode:"signup",onRedirectingChange:r,onSubmit:t}),"initial"===c?(0,s.Y)(y.EY,{css:U.orText,children:"Or"}):(0,s.Y)(D.a,{}),(0,s.Y)(W,{emailLoginType:c,setEmailLoginType:u})]}),"password"===c?(0,s.Y)(A.A,{onSubmit:t,seededEmail:n,trackSource:o.from}):null,"saml"===c?(0,s.Y)(S.A,{onSubmit:t,mode:"signup",onRedirectingChange:r}):null]})},W=function(e){var r=e.emailLoginType,t=e.setEmailLoginType;return"password"===r?(0,s.Y)(E.I,{onClick:function(){return t("saml")},iconLeft:(0,s.Y)(R.A,{size:20}),text:"Use SSO login"}):"saml"===r?(0,s.Y)(E.I,{onClick:function(){return t("password")},iconLeft:(0,s.Y)(R.A,{size:20}),text:"Use email login"}):(0,s.FD)(s.FK,{children:[(0,s.Y)(x.Ay,{dataCy:"auth-form-reveal-email",onClick:function(){return t("password")},iconLeft:(0,s.Y)(L.A,{size:20}),text:"Email & password",variant:"tertiary",stretch:!0}),(0,s.Y)(x.Ay,{onClick:function(){return t("saml")},iconLeft:(0,s.Y)(P.A,{size:20}),text:"Single sign-on (SSO)",variant:"tertiary",stretch:!0})]})};let z=function(e){var r=e.children,t=e.customHeader,n=e.isModal,i=e.mode,o=e.onRedirectingChange,a=e.onSubmit,c=e.initialTenantId,u=e.tracking,d=e.privateDeployment,p=e.renderForm;return(0,l.useEffect)(function(){var e=n?"modal":"auth-page";"login"===i?(0,I.cJ)({from:u.from,location:u.location,authFormPlacement:e}):(0,I.b$)({from:u.from,location:u.location,authFormPlacement:e})},[i,n,u.from,u.location]),(0,l.useEffect)(function(){void 0!==c&&(o(!0),(0,m.p6)({type:"tenantId",tenantId:c}).then(function(e){if("error"===e.type)return void a({error:e.message});(0,_.OD)({tenantId:e.tenantId,provider:{type:"saml",providerId:e.samlProviderId}}).then(function(e){if("error"===e.type)return void a({error:_.xd})})}))},[c,o,a]),(0,s.FD)(s.FK,{children:[t?null:(0,s.Y)(C,{mode:i,privateDeployment:d}),(0,s.FD)(F.S,{css:U.mainControls,gap:12,children:[r,p?p(e):(0,s.Y)(M,(0,f._)({},e))]})]})};var G=t(83846),N=t(46603),K=(0,v.x)({container:[(0,G._)({margin:"auto"},w.$_.max("mobileMax"),[w.wp.pt(96)]),w.wp.colWithGap(32)],button:[w.wp.color.foregroundDimmest]});let B=function(e){var r=e.email,t=e.providerId,n=e.onCancel,i=(0,h.a8)(t);return i||(i="this provider",t===h.Cg&&(i="your password")),(0,s.FD)(F.S,{css:K.container,pt:128,children:[(0,s.Y)(y.Y9,{variant:"headerDefault",level:1,children:"Verification required"}),(0,s.FD)(F.S,{gap:16,children:[(0,s.FD)(y.EY,{variant:"subheadDefault",multiline:!0,children:["In order to log in with ",i,", you must verify"," ",r||"your email","."]}),(0,s.Y)(y.EY,{multiline:!0,children:"We've sent an email with a verification link. If you don't see it, check your spam folder, or contact support for assistance."})]}),(0,s.Y)(N.$n,{size:"big",variant:"outlined",css:K.button,onClick:function(){return n()},text:"Back to log in"})]})};var V=t(63634),Q=t(19737),q=t(20326),Z=t(25804),$=t(54087),j=t(80762),J=[w.wp.width(470),w.wp.maxWidth("100%"),w.wp.colWithGap(32),w.wp.align.center,{margin:"auto","& *":[w.aO]}],X=(0,v.x)({error:[w.wp.mb(16)],container:(0,o._)(J).concat([w.wp.p(24)]),containerModal:(0,o._)(J),loadingText:[w.wp.fontSize(16),w.wp.flex.shrink(1)]}),ee="redirecting";function er(e){var r,t,o=e.customHeader,f=e.isModal,g=e.mode,v=e.onModeChange,w=e.onSuccess,b=e.seededEmail,C=e.initialTenantId,Y=e.tracking,S=e.privateDeployment,A=e.renderForm,E=e.replitAuthProps,k=(0,d.m)(),T=(0,c.useRouter)(),x=(0,Z.pE)(ee,"boolean"),D=(0,i._)((0,l.useState)(x?{type:"redirecting"}:{type:"form"}),2),P=D[0],L=D[1],R=(0,i._)((0,l.useState)(),2),U=R[0],M=R[1],H=(0,l.useCallback)((r=(0,n._)(function(e){return(0,a.YH)(this,function(r){switch(r.label){case 0:if(!e)return[3,2];return L({type:"redirecting"}),[4,(0,Z.HQ)({router:T,params:[{mode:"add",key:ee,value:"1"}]})];case 1:return r.sent(),[3,3];case 2:L({type:"form"}),(0,Z.HQ)({router:T,params:[{mode:"delete",key:ee}]}),r.label=3;case 3:return[2]}})}),function(e){return r.apply(this,arguments)}),[T]),O=function(e){L({type:"redirecting",message:"SAML SSO required. Redirecting to the SSO login page..."}),setTimeout((0,n._)(function(){return(0,a.YH)(this,function(r){switch(r.label){case 0:return[4,(0,_.OD)({tenantId:e.tenantId,provider:{type:"saml",providerId:e.samlProviderId}})];case 1:return"error"===r.sent().type&&(M({message:"Something went wrong. Please try logging in again.",colorway:"negative"}),L({type:"form"})),[2]}})}),3e3)},W=(0,l.useCallback)((t=(0,n._)(function(e){var r,t;return(0,a.YH)(this,function(n){switch(n.label){case 0:if(!("error"in e&&e.error))return[3,2];if(e.reauth)return O(e.reauth),[2];return M({message:e.error,colorway:null!=(r=e.colorway)?r:"negative"}),[4,H(!1)];case 1:return n.sent(),[2];case 2:if(!("user"in e&&e.user))throw Error("Expected error or user object");if(null!=(t=e.user.postLoginRedirectUrl)&&t.length>0)return window.location.href=t,[2];return e.isLogin||(0,I.E0)(e.user.id.toString()),w(e),[2]}})}),function(e){return t.apply(this,arguments)}),[H,w,M]),G=(0,Q.k)();return(0,l.useEffect)(function(){var e;(0,_.Gj)().then((e=(0,n._)(function(e){var r,t,n,i;return(0,a.YH)(this,function(o){switch(o.label){case 0:if("success"!==e.type)return[3,13];if(null===e.result)return"redirecting"===P.type&&H(!1),[2];return"redirecting"!==P.type&&H(!0),[4,(0,m.TV)(e.result.user,{source:Y.from})];case 1:switch((r=o.sent()).type){case"success":return[3,2];case"needs_email_verification":return[3,7];case"error":return[3,9]}return[3,11];case 2:if((null==(t=e.result)?void 0:t.providerId)!==h.Gb)return[3,4];return[4,G({userCredential:e.result,oauthProviderId:h.Gb,scopes:[]})];case 3:o.sent(),o.label=4;case 4:if(n=r.redirectUrl?(0,V.A)({redirectUrl:r.redirectUrl}):void 0)return window.location.href=n,[2];if(!(r.isNewUser&&e.result.providerId===h.ME))return[3,6];return[4,(0,q.b)(r.userId.toString())];case 5:o.sent(),o.label=6;case 6:return w({user:{id:r.userId},isLogin:!r.isNewUser}),[3,12];case 7:return H(!1),L({type:"needs-email-verification",email:e.result.user.email,providerId:e.result.providerId}),[4,(0,_.CI)(k)];case 8:case 10:return o.sent(),[3,12];case 9:if(r.reauth)return O(r.reauth),[2];return H(!1),M({message:r.message,colorway:"negative"}),[4,(0,_.CI)(k)];case 11:(0,p.A)(r),o.label=12;case 12:return[2];case 13:switch(H(!1),e.treatment){case"requires-provider-link":return[3,14];case"credential-conflict":return[3,15];case"email-conflict":return[3,16];case"forbidden-operation":return[3,17];case"user-needs-email":return[3,18];case"timeout":case"unhandled":case"unknown":return[3,20]}return[3,21];case 14:return M({message:"Please log in to ".concat(e.context.email," with another method and link ").concat((0,h.a8)(e.context.credential.providerId)," from the account page."),colorway:"negative"}),[3,22];case 15:return M({message:"This provider cannot be used, please try another method.",colorway:"negative"}),[3,22];case 16:return M({message:"This email cannot be used, please try another method.",colorway:"negative"}),[3,22];case 17:return M({message:"That action is not permitted",colorway:"negative"}),[3,22];case 18:return i=(0,h.a8)(e.credential.providerId),M({message:"Your ".concat(i," account is missing an email address. To use it for Replit, you'll need to ").concat("login"===g?"log in":"sign up"," with another method and connect ").concat(i," from the account page."),colorway:"negative"}),[4,(0,_.CI)(k)];case 19:return o.sent(),[3,22];case 20:return M({message:"Something unexpected happened, please try again.",colorway:"negative"}),[3,22];case 21:(0,p.A)(e),o.label=22;case 22:return[2]}})}),function(r){return e.apply(this,arguments)})).catch(function(e){return u.Cp(e)})},[]),(0,s.Y)(F.S,{css:f?X.containerModal:X.container,children:"form"===P.type?(0,s.Y)(z,{customHeader:o,isModal:f,mode:g,onModeChange:function(e){M(void 0),v(e)},onRedirectingChange:H,onSubmit:W,seededEmail:b,initialTenantId:C,tracking:Y,privateDeployment:S,renderForm:A,replitAuthProps:E,children:U?(0,s.Y)($.N,{css:X.error,colorway:U.colorway,text:U.message}):null}):"needs-email-verification"===P.type?(0,s.Y)(B,{email:P.email,providerId:P.providerId,onCancel:function(){return L({type:"form"})}}):(0,s.FD)(F.S,{gap:8,align:"center",children:[(0,s.Y)(j.A,{size:32}),P.message?(0,s.Y)(y.EY,{multiline:!0,css:X.loadingText,children:P.message}):null]})})}}}]);
//# sourceMappingURL=7656-598a19e91ea87c8f.js.map