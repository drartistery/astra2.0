!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=Error().stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="3e3e66a7-e54b-401f-bcd8-b4fe6ca90f35",e._sentryDebugIdIdentifier="sentry-dbid-3e3e66a7-e54b-401f-bcd8-b4fe6ca90f35")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"d5236f02"},(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9845],{43977:(e,n,r)=>{"use strict";r.r(n),r.d(n,{default:()=>ep});var t=r(83846),o=r(12694),a=r(88263),l=r(71115),i=r(21462),u=r(17844),s=r(12584),c=r(41114),p=r(86997),d=r(56367),f=r(12261),g=r(78628),m=r(11725),R=r(97782);function y(){var e=(0,s._)(["\n  fragment RecentReplsRepl on Repl {\n    id\n    title\n    iconUrl\n    timeUpdated\n    ...ReplLinkRepl\n    ...ComponentsReplActions\n    project {\n      id\n      title\n    }\n    owner {\n      ... on User {\n        id\n        username\n      }\n      ... on Team {\n        id\n        username\n      }\n    }\n    hostingDeployment {\n      __typename\n      ... on HostingDeployment {\n        id\n        ...DeploymentItem\n        latestBuildStatus\n        currentBuild {\n          id\n          status\n          timeCreated\n          user {\n            id\n            displayName\n          }\n        }\n      }\n    }\n  }\n  ","\n  ","\n  ","\n"]);return y=function(){return e},e}var h=(0,c.J1)(y(),m.r,g.X,R.Pj);function _(){var e=(0,s._)(["\n  fragment HomeRecentReplsCurrentUserLoadingInfo on CurrentUser {\n    allRecentReplsCount: recentReplsCount\n    ownRecentReplsCount: recentReplsCount(filter: own)\n    multiplayerRecentReplsCount: recentReplsCount(filter: multiplayer)\n    isVerified\n  }\n"]);return _=function(){return e},e}function C(){var e=(0,s._)(["\n  fragment HomeRecentReplsSectionRepl on Repl {\n    id\n    ...RecentReplsRepl\n  }\n  ","\n"]);return C=function(){return e},e}function v(){var e=(0,s._)(["\n  query HomeRecentReplsSection($count: Int!) {\n    allRecentRepls: recentRepls(count: $count) {\n      id\n      ...HomeRecentReplsSectionRepl\n    }\n    ownRecentRepls: recentRepls(count: $count, filter: own) {\n      id\n      ...HomeRecentReplsSectionRepl\n    }\n    multiplayerRecentRepls: recentRepls(count: $count, filter: multiplayer) {\n      id\n      ...HomeRecentReplsSectionRepl\n    }\n    currentUser {\n      id\n      username\n      ...UserLinkCurrentUser\n    }\n  }\n  ","\n  ","\n"]);return v=function(){return e},e}var w={},b=(0,c.J1)(_()),U=(0,c.J1)(C(),h),Y=(0,c.J1)(v(),U,f.m);function S(){var e=(0,s._)(["\n  query HomePage {\n    currentUser {\n      id\n      timeCreated\n      hasAgentRepl {\n        ... on HasAgentRepl {\n          hasAgentRepl\n        }\n      }\n      image\n      username\n      firstName\n      orgs(count: 1) {\n        __typename\n        ... on CurrentUserOrganizationConnection {\n          ...OrgSwitcherOrganizationConnectionFragment\n        }\n        ... on Error {\n          message\n        }\n        ... on NotFoundError {\n          message\n        }\n        ... on UserError {\n          message\n        }\n      }\n      ...HomeRecentReplsCurrentUserLoadingInfo\n      isSubscribed\n    }\n  }\n  ","\n  ","\n"]);return S=function(){return e},e}var x={},A=(0,c.J1)(S(),d.TR,b),D=r(78448),P=r(13771);function F(){var e=(0,o._)((0,i.useState)(!1),2),n=e[0],r=e[1];return(0,a.FD)(a.FK,{children:[(0,a.Y)(D.v,{trackingSource:"homePage",onUpsell:function(){return r(!0)},shouldAutoFocus:!0}),(0,a.Y)(P.A,{isOpen:n,onClose:function(){return r(!1)},type:"purchase",analyticsContext:{upgrade:{context:"home_page",surface:"agent_entry_point"}},highlightUpsell:"agent"})]})}var B=r(2623),k=r(29306),H=r(79209),T=r(64583),E=r(48521),I=r(39999),N=r(76126),O=r(10429),L=r(37037),q=(0,H.i7)({"0%":{opacity:0,transform:"translateY(20px)"},"100%":{opacity:1,transform:"translateY(0)"}}),$=(0,T.x)({container:[E.wp.flex.growAndShrink(1),{animation:"".concat(q," 300ms ease-out forwards")}],seeAllButton:[{alignSelf:"start"}],headerRow:[E.wp.minHeight(32)],cardContainer:[E.wp.display.grid,E.wp.gap(16),(0,t._)({gridTemplateColumns:"repeat(3, 1fr)"},E.$_.max("tabletMax"),[{gridTemplateColumns:"1fr"}])]});function J(e){var n,r,t,o=e.currentUser,l=(n={variables:{count:3},ssr:!1,fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first"},r=(0,u._)({},w,n),p.I(Y,r)),i=l.data,s=l.loading,c=null!=(t=null==i?void 0:i.allRecentRepls)?t:[];return!((null==i?void 0:i.allRecentRepls)?0!==i.allRecentRepls.length:0!==o.allRecentReplsCount)||s?null:(0,a.FD)(O.S,{css:$.container,gap:16,children:[(0,a.FD)(O.S,{css:$.headerRow,row:!0,gap:12,justify:"space-between",align:"center",children:[(0,a.Y)(N.Y9,{variant:"subheadBig",level:2,children:"Your recent Apps"}),(0,a.Y)(I.v,{href:"/replsDashboard",as:"/repls",prefetch:!1,iconRight:(0,a.Y)(L.A,{}),text:"View All",css:$.seeAllButton})]}),(0,a.Y)(O.S,{css:$.cardContainer,tag:"ol",children:c.map(function(e){return(0,a.Y)(k.l,{repl:e,trackingContext:"homeRecentRepls",isOrg:!1},e.id)})})]})}var K=r(36640),j=r(49150),z=r(35084),M=r(3261),V=r(2445);function X(){return(0,a.Y)(V.H,{colorway:"warning",text:"Payment failed. Update to continue using Replit AI.",buttonLinkProps:{colorway:"warning",text:"Update Payment Method",href:"/account#billing"}})}var Z=r(66340);function G(){var e=(0,s._)(["\n  query CurrentUserReferralBanner {\n    currentUser {\n      id\n      username\n      isSubscribed\n      referralsByTarget(input: { status: pending }) {\n        __typename\n        ... on CurrentUserReferralsByTargetResult {\n          referrals {\n            ... on Referrals {\n              id\n              sourceUser {\n                id\n                username\n              }\n            }\n          }\n        }\n      }\n      referralsBySource {\n        __typename\n        ... on CurrentUserReferralsBySourceResult {\n          referrals {\n            ... on Referrals {\n              id\n              status\n            }\n          }\n        }\n      }\n    }\n  }\n"]);return G=function(){return e},e}var W={},Q=(0,c.J1)(G()),ee=r(79784),en=r(64418),er=r(79560),et=r(45641),eo=r(2115),ea=r(80644);function el(){var e,n,r,t,l,s,c,d,f,g,m,R,y,h,_,C=(0,et.Z)("referral-program-banner"),v=C.isLoading,w=C.isDone,b=C.setAsDone,U=(0,et.Z)("referral-pending-banner"),Y=U.isLoading,S=U.isDone,x=U.setAsDone,A=(e=(0,u._)({},W,void 0),p.I(Q,e)),D=A.data,F=A.loading,B=(null==D||null==(r=D.currentUser)||null==(n=r.referralsByTarget)?void 0:n.__typename)==="CurrentUserReferralsByTargetResult"&&!!(null==D||null==(l=D.currentUser)||null==(t=l.referralsByTarget)?void 0:t.referrals)&&(null==D||null==(d=D.currentUser)||null==(c=d.referralsByTarget)||null==(s=c.referrals)?void 0:s.length)>0,k=((null==D||null==(g=D.currentUser)||null==(f=g.referralsBySource)?void 0:f.__typename)==="CurrentUserReferralsBySourceResult"&&!!(null==D||null==(R=D.currentUser)||null==(m=R.referralsBySource)?void 0:m.referrals)&&(null==D||null==(h=D.currentUser)||null==(y=h.referralsBySource)?void 0:y.referrals)||[]).filter(function(e){return e.status===z.wy.ReferrerCreditPending}),H=k.length>0,T=!!(null==D||null==(_=D.currentUser)?void 0:_.isSubscribed),E=(0,o._)((0,i.useState)(!1),2),I=E[0],N=E[1],O=(0,o._)((0,i.useState)(!1),2),L=O[0],q=O[1];if((0,Z.wR)()||v||w||Y||S||F)return null;if(H&&!T){var $=k.length*en.m;return(0,a.FD)(a.FK,{children:[(0,a.Y)(V.H,{colorway:"primary",text:"Upgrade to ".concat(ee.en," to claim your $").concat($," in referral bonus credits."),buttonProps:{text:"Upgrade",iconLeft:(0,a.Y)(eo.A,{}),colorway:"primary",onClick:function(){return q(!0)}},onDismiss:function(){return x()}}),(0,a.Y)(P.A,{isOpen:L,onClose:function(){return q(!1)},type:"purchase",onPurchaseComplete:function(){return x()},analyticsContext:{upgrade:{context:"pending_referral_banner",surface:"referral_banner"}},reloadPageAfterPurchaseComplete:!0})]})}return B&&!T?(0,a.FD)(a.FK,{children:[(0,a.Y)(V.H,{colorway:"primary",text:"Upgrade to ".concat(ee.en," to claim your $").concat(en.m," in credits"),buttonProps:{text:"Upgrade",iconLeft:(0,a.Y)(eo.A,{}),colorway:"primary",onClick:function(){return q(!0)}},onDismiss:function(){return x()}}),(0,a.Y)(P.A,{isOpen:L,onClose:function(){return q(!1)},type:"purchase",onPurchaseComplete:function(){return x()},analyticsContext:{upgrade:{context:"pending_referral_banner",surface:"referral_banner"}},reloadPageAfterPurchaseComplete:!0})]}):T?(0,a.FD)(a.FK,{children:[(0,a.Y)(V.H,{colorway:"primary",text:"Need more credits?",buttonProps:{text:"Refer a friend",iconLeft:(0,a.Y)(ea.A,{}),colorway:"primary",onClick:function(){return N(!0)}},onDismiss:function(){return b()}}),(0,a.Y)(er.Z,{isOpen:I,onClose:function(){return N(!1)},trackingContext:"referral-banner"})]}):null}function ei(){var e=(0,M.g)(),n=e.suspensionNotification;if(e.suspensionNotificationsLoading)return null;var r=(null==n?void 0:n.type)===z.im.InGracePeriod;return(0,a.Y)(a.FK,{children:r?(0,a.Y)(X,{}):(0,a.Y)(el,{})})}var eu=r(16772),es=r(82402),ec=r(30499);let ep=function(){var e,n,r=(e=(0,u._)({},x,void 0),p.I(A,e)).data,s=(0,K.A)().showConfirm,c=(0,l.useRouter)(),d=(0,o._)((0,i.useState)(!1),2),f=d[0],g=d[1],m=(0,o._)((0,i.useState)("pricing_page_signup"),2),R=m[0],y=m[1];(0,i.useEffect)(function(){c.query.upgrade&&(c.replace(c.pathname,"/~"),y(c.query.upgrade),g(!0))},[c,s]);var h=null==r?void 0:r.currentUser,_=(0,o._)((0,i.useState)(!!c.query.supportform),2),C=_[0],v=_[1],w=(null==h?void 0:h.orgs.__typename)==="CurrentUserOrganizationConnection"&&(null==h?void 0:h.orgs.items.length)>0,b=(0,T.x)({homePageClean:[E.wp.pageContent,(0,t._)({maxWidth:800,marginTop:w?"calc(15vh - 48px)":"calc(20vh - 48px)"},E.$_.max("tabletMax"),{marginTop:"0"})]});return(0,a.FD)(eu.A,{title:"Home",children:[(0,a.Y)(ec.V,{}),(0,a.Y)(ei,{}),(0,a.Y)(O.S,{gap:80,css:b.homePageClean,dataCy:"home-page",children:h&&(0,a.FD)(a.FK,{children:[(0,a.FD)(O.S,{gap:16*!!w,children:[(0,a.Y)(B.A,{ownerName:null!=(n=h.firstName)?n:h.username,image:h.image}),(0,a.Y)(F,{})]}),(0,a.Y)(J,{currentUser:h})]})}),(0,a.Y)(j.a,{isOpen:C,onRequestClose:function(){v(!1)},children:(0,a.Y)(es.A,{onRequestClose:function(){v(!1)}})}),(0,a.Y)(P.A,{isOpen:f,onClose:function(){return g(!1)},type:"purchase",analyticsContext:{upgrade:{context:R}}})]})}},72747:(e,n,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/home",function(){return r(43977)}])}},e=>{var n=n=>e(e.s=n);e.O(0,[4017,5648,3451,3214,7573,3950,1335,2647,3158,4344,8508,4611,3030,6549,9864,7853,2619,8941,5731,5605,113,9493,4177,3025,2778,7377,9158,3104,7656,6772,1221,4631,3347,3830,6172,4968,6317,1113,9367,1987,3672,5124,6593,636,8792],()=>n(72747)),_N_E=e.O()}]);
//# sourceMappingURL=home-40d6e65e037aa870.js.map